<!DOCTYPE html>
<html>
  <head>
    <title>IPS-PROD</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="core/fonts/mono.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/animate.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/cinescript.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/style_core.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/mermaid.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/gitgraph.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/style_ensiie.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/katex.css"> 
  </head>
  <body>
    <textarea id="source" readonly>

layout: true
class: animated fadeIn middle numbers

.footnote[
`IPS-PROD` - J. NEWSOME - ENSIIE - 2024 - [:book:](../index.html)
]

---

# Avoid Nesting

Linux Kernel coding standards:

> Now, some people will claim that having 8-character indentations makes the code move too far to the right, and makes it hard to read on a 80-character terminal screen. 
> The answer to that is that if you need more than 3 levels of indentation, you're screwed anyway, and should fix your program. 

## Guard clauses: return early and often

.row[
.column.w48[
```cpp
void f(int status)
{
  if (status == OK)
  {
    dosomething();
  }
}
```
]

.column.w48[
```cpp
void f(int status)
{
  if (status != OK) return;

  dosomething();
}
```
]
]

:arrow_right: put the `[[unlikely]]` branch first and the `[[likely]]` branch after

## Extract into a function

---

# Naming things


---

# Comments

## Self-documenting code

```cpp
// You can update a message IF the current user is the author of the message
// AND the message was delivered less than 5 minutes ago OR if the current user
// is an administrator.
// You can also edit the message if the message was not delivered yet
if (((message.user.id == current_user.id) 
    && (message.delivered_time() is None)
  || (datetime.now() - message.delivered_time < 10*60))
|| (current_user.type == User::ADMINISTRATOR))
{
  message.update_text(text)
}
```

:arrow_right: Use meaningful variable names

```cpp
bool user_is_author = (message.user.id == current_user.id)
bool is_recent      = ((message.delivered_time() is None) || (datetime.now() - message.delivered_time < 300)
bool user_is_adming = (current_user.type == User::ADMINISTRATOR) {

if ( (user_is_author && is_recent) || user_is_admin())
  message.update_text(text)
}
```

## Avoid magic numbers


.row[
.column.w48[
```cpp
if (status == 5) {
  state.finalize();
}
```
]

.column.w48[
```cpp
if (status == MessageStatus::RECEIVED) {
  state.finalize();
}
```
]
]

---

## Comments get out of sync

Comments do not benefit from:
* Tests
* Compiler checks
* Linting

---

# Make use  of the standard library

## C++

Some interesting c++ features:
https://github.com/AnthonyCalandra/modern-cpp-features

* `std::optional`
* smart pointers
* structured binding declarations

## Python

https://docs.python.org/3/library/index.html

Some interesting libraries:
* `dataclass`
* `json`, `csv`
* `itertools`
* `pathlib`
* `hashlib`
* `time`
* `multiprocessing`

    </textarea>

    <script src="core/javascript/remark.js"></script>
    <script src="core/javascript/katex.min.js"></script>
    <script src="core/javascript/auto-render.min.js"></script>
    <script src="core/javascript/emojify.js"></script>
    <script src="core/javascript/mermaid.js"></script>
    <script src="core/javascript/term.js"></script>
    <script src="core/javascript/jquery-2.1.1.min.js"></script>
    <script src="core/javascript/extend-jquery.js"></script>
    <script src="core/javascript/cinescript.js"></script>
    <script src="core/javascript/gitgraph.js"></script>
    <script>

    // === Remark.js initialization ===
    var slideshow = remark.create({
      highlightStyle: 'monokai',
      countIncrementalSlides: false,
      highlightLines: true
    });

    // === Mermaid.js initialization ===
    mermaid.initialize({
      startOnLoad: false,
      cloneCssStyles: false,
      flowchart:{
        height: 50
      },
      sequenceDiagram:{
        width: 110,
        height: 30
      }
    });

    function initMermaid(s) {
      var diagrams = document.querySelectorAll('.mermaid');
      var i;
      for(i=0;i<diagrams.length;i++){
        if(diagrams[i].offsetWidth>0){
          mermaid.init(undefined, diagrams[i]);
        }
      }
    }

    slideshow.on('afterShowSlide', initMermaid);
    initMermaid(slideshow.getSlides()[slideshow.getCurrentSlideIndex()]);

    
    // === Emojify.js initialization ===
    emojify.run();

    // === Cinescript initialization ===
    $(document).ready(init_cinescripts);

    renderMathInElement(document.body,{delimiters: [{left: "$$", right: "$$", display: true}, {left: "\\(", right: "\\)", display: false}], ignoredTags: [] });

    </script>
  </body>
</html>

